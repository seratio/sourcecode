@model Seratio.Blockchain.Sandbox.Core.Entities.Blockchain.WalletInfo

@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Seratio Wallet - Seratio Platform</title>
    <link rel="shortcut icon" href="/wallet/assets/images/favicon.png">
    <link href="/wallet/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/css/core.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/css/components.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/css/pages.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/css/responsive.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/css/custom.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/assets/plugins/bootstrap-toastr/toastr.min.css" rel="stylesheet" type="text/css" />
    <link href="/wallet/Assets/plugins/extras/jquery.timepicker.min.css" rel="stylesheet" />

    <script src="/wallet/assets/js/modernizr.min.js"></script>
</head>
<body class="pantone">
    <div class="account-pages"></div>
    <div class="clearfix"></div>
    <div class="wrapper-page" style="width: 850px;">
        <div class="card-box">
            <div class="panel-heading text-center">
                <img src="/wallet/assets/images/logo1.png" alt="Seratio">
                <h4 class="text-center"> Create your <strong class="text-custom" style="color: #0168ab;">Seratio Wallet</strong></h4>
            </div>
            <div class="panel-body">
                @{
                    if (Model == null)
                    {
                        <form class="form-horizontal" action="#" method="post">

                            <div class="form-group">
                                <div class="col-xs-12">
                                    <input class="form-control" style="width: 60%;margin: 0 auto;" type="password" required="" placeholder="Please enter your preferred password" name="password" minlenth5>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <div class="col-xs-12">
                                    <input class="form-control" style="width: 60%;margin: 0 auto;" type="password" required="" placeholder="Please confirm your password" name="confirmpassword" minlenth5>
                                </div>
                            </div>
                           
                            
                            
                            @*<div class="form-group">
                                <div class="col-xs-12">
                                    <input name="Password" type="password" placeholder="Please enter your preferred password" class="form-control" data-val="true" data-val-required="Please enter your preferred password." required="required" minlength="5" >
                                    @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-xs-12">
                                    @Html.EditorFor(model => model.ConfirmPassword, new { htmlAttributes = new { @placeholder = "Please enter the Confirm Password", @class = "form-control" } })

                                    @Html.ValidationMessage("ConfirmPassword", new { @class = "text-danger" })
                                </div>
                            </div>*@


                            <div class="form-group text-center m-t-20">
                                <div class="col-xs-12">
                                    <button class="btn btn-block text-uppercase waves-effect waves-light" style="background: #0168ab; color: #fff; font-weight: bold; width: 60%;margin: 0 auto;" type="submit">Proceed</button>
                                </div>
                            </div>

                            <div class="form-group m-t-30 m-b-0">
                                <div class="col-sm-12 text-center">
                                    <p style="color: #FF7900; font-weight: bold;">Please note that this password cannot be changed or recovered if lost.</p>
                                </div>
                            </div>
                            <div class="form-group m-t-30 m-b-0">
                                <div class="col-sm-12 text-center">
                                    <p>Download our Step-by-step guide for the SER Holders:</p>
                                    <p><a href="/wallet/files/Seratio Wallet Instructions 20 Jan 18.pdf" target="_blank">English</a></p>
                                    <p><a href="/wallet/files/Seratio Wallet Instructions_CN_20180122.pdf" target="_blank">Chinese</a></p>
                                </div>
                            </div>
                        </form>
                    }
                    else
                    {
                        <div class="form-group">
                            <div class="col-xs-12">
                                <p style="text-align: center;color: green;font-weight: bold;margin-bottom: 30px;">Congratulations! Your Seratio Wallet has been created.</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-12">
                                <p>Your wallet address is <span style="color: #FF7900; font-weight: bold;">@Model.Address</span></p>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-xs-12">
                                <p>Your Mnemonic Phrase is <span style="color: #FF7900; font-weight: bold;">@ViewBag.Mnemonic</span></p>
                            </div>
                        </div>

                        <div class="form-group" id="download_info">
                            <div class="col-xs-12">
                                <p>Download of your encrypted Private Key and Paper Wallet files will start automatically in <span id="download_delay">4</span> seconds. If your download doesn't start automatically, you can manually download the  <a href="/wallet/keys/download?file=@(Model.EncryptedPrivateKeyFile)" target="_blank">Private Key</a> and the <a href="/wallet/keys/download?file=@(ViewBag.PaperWallet)" target="_blank">Paper Wallet</a>.</p>
                            </div>
                        </div>

                        <iframe class="downloader" data-src="/wallet/keys/download?file=@ViewBag.PaperWallet" style="display: none;"></iframe>
                        <iframe class="downloader" data-src="/wallet/keys/download?file=@Model.EncryptedPrivateKeyFile" style="display: none;"></iframe>
                        <div class="form-group text-center">
                            <div class="col-xs-12">
                                <a class="waves-effect waves-light" style="color: #0168ab !important; font-weight: bold; margin-top: 30px;text-decoration: underline;" href="/wallet/default/dashboard?_w=@Model.Address">Back to Dashboard</a>
                            </div>
                        </div>
                    }
                }

            </div>
        </div>
    </div>

    <script>
        var resizefunc = [];
    </script>
    <!-- jQuery  -->
    <script type="text/javascript" src="/wallet/assets/js/jquery.min.js"></script>
    <script type="text/javascript" src="/wallet/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/wallet/assets/js/moment.min.js"></script>
    <script type="text/javascript" src="/wallet/assets/js/select2.js"></script>
    <script type="text/javascript" src="/wallet/assets/plugins/pickers/pickadate/picker.js"></script>
    <script type="text/javascript" src="/wallet/assets/plugins/pickers/pickadate/picker.date.js"></script>
    <script type="text/javascript" src="/wallet/assets/plugins/forms/styling/uniform.min.js"></script>
    <script src="/wallet/Assets/plugins/tables/datatables/datatables.min.js"></script>
    <script src="/wallet/assets/js/app.js" type="text/javascript"></script>
    <script src="/wallet/assets/js/jquery.livequery.js" type="text/javascript"></script>
    <script src="/wallet/scripts/jquery.validate.min.js" type="text/javascript"></script>
    <script src="/wallet/Assets/plugins/forms/validation/additional-methods.min.js"></script>
    <script src="/wallet/assets/plugins/bootstrap-toastr/toastr.min.js" type="text/javascript"></script>
    <script src="/wallet/assets/plugins/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <script src="/wallet/assets/plugins/pickers/datepicker.js" type="text/javascript"></script>
    <script src="/wallet/assets/js/jquery.cookie.min.js" type="text/javascript"></script>
    <script src="/wallet/scripts/jquery.validate.unobtrusive.min.js"></script>
    @*<script src="/wallet/scripts/html5-qrcode.min.js" type="text/javascript"></script>*@
    <script type="text/javascript" src="/wallet/assets/js/scripts.js"></script>
    <script src="/wallet/assets/plugins/awesomplete/bootstrap3-typeahead.min.js"></script>
    <script src="/wallet/scripts/app.js?_=@DateTime.Now.Ticks" type="text/javascript"></script>
    <script>
        $(document).ready(function () {
            App.init();
            var seconds = 0;
            var download_timer = setInterval(function () {
                seconds++;

                if (seconds >= 4) {
                    clearInterval(download_timer);
                    $('#download_delay').text('0');
                    $('iframe.downloader').each(function (i, item) {
                        $(item).attr('src', $(item).attr('data-src'));
                    });
                } else {
                    $('#download_delay').text(4 - seconds);
                }

            }, 1000);

            @{
            if (TempData["Notification"] != null)
            {
                Notification notification = (Notification)TempData["Notification"];
                <text>WebApp.Notifications.Show('@notification.Type', '@notification.Text');</text>
            }
        }
        });
    </script>
</body>
</html>